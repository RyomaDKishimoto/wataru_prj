(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[714],{1247:function(e,t,r){"use strict";function n(e,t,r,n,s,a,i){try{var c=e[a](i),o=c.value}catch(u){return void r(u)}c.done?t(o):Promise.resolve(o).then(n,s)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(s,a){var i=e.apply(t,r);function c(e){n(i,s,a,c,o,"next",e)}function o(e){n(i,s,a,c,o,"throw",e)}c(void 0)}))}}r.r(t),r.d(t,{default:function(){return T}});var a=r(2809),i=r(809),c=r.n(i),o=r(7294);function u(e,t){return l.apply(this,arguments)}function l(){return(l=s(c().mark((function e(t,r){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(r||{})});case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var p="https://js.stripe.com/v3",d=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,m="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",h=null,f=function(e){return null!==h?h:h=new Promise((function(t,r){if("undefined"!==typeof window)if(window.Stripe&&e&&console.warn(m),window.Stripe)t(window.Stripe);else try{var n=function(){for(var e=document.querySelectorAll('script[src^="'.concat(p,'"]')),t=0;t<e.length;t++){var r=e[t];if(d.test(r.src))return r}return null}();n&&e?console.warn(m):n||(n=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(p).concat(t);var n=document.head||document.body;if(!n)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return n.appendChild(r),r}(e)),n.addEventListener("load",(function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))})),n.addEventListener("error",(function(){r(new Error("Failed to load Stripe.js"))}))}catch(s){return void r(s)}else t(null)}))},j=function(e,t,r){if(null===e)return null;var n=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.22.0",startTime:t})}(n,r),n},x=Promise.resolve().then((function(){return f(null)})),v=!1;x.catch((function(e){v||console.warn(e)}));var w,y=function(){return w||(w=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];v=!0;var n=Date.now();return x.then((function(e){return j(e,t,n)}))}("pk_test_51KHSnRBo5n6BpyDYHjAumB5PQ0IQwyxJaHRDB1O9ZMvDj877wFkOjmJAu32SOgdF3GAYEKGkzOAa1gYPkK7ci0je0029OOMIdt")),w};function g(e,t){return new Intl.NumberFormat(["en-US"],{style:"currency",currency:t,currencyDisplay:"symbol"}).format(e)}var b=r(5893),S=function(e){var t=e.name,r=e.value,n=e.min,s=e.max,a=e.currency,i=e.step,c=e.onChange,o=e.className;return(0,b.jsxs)("label",{children:["Custom donation amount (",g(n,a),"-",g(s,a),"):",(0,b.jsx)("input",{className:o,type:"number",name:t,value:r,min:n,max:s,step:i,onChange:c}),(0,b.jsx)("input",{type:"range",name:t,value:r,min:n,max:s,step:i,onChange:c})]})},O=function(){return(0,b.jsxs)("div",{className:"test-card-notice",children:["Use any of the"," ",(0,b.jsx)("a",{href:"https://stripe.com/docs/testing#cards",target:"_blank",rel:"noopener noreferrer",children:"Stripe test cards"})," ","for this demo, e.g."," ",(0,b.jsxs)("div",{className:"card-number",children:["4242",(0,b.jsx)("span",{}),"4242",(0,b.jsx)("span",{}),"4242",(0,b.jsx)("span",{}),"4242"]}),"."]})};function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _=function(){var e=(0,o.useState)(!1),t=e[0],r=e[1],n=(0,o.useState)({customDonation:Math.round(1e3)}),i=n[0],l=n[1],p=function(){var e=s(c().mark((function e(t){var n,s,a,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r(!0),e.next=4,u("/api/checkout_sessions",{amount:i.customDonation});case 4:if(500!==(n=e.sent).statusCode){e.next=8;break}return console.error(n.message),e.abrupt("return");case 8:return e.next=10,y();case 10:return s=e.sent,e.next=13,s.redirectToCheckout({sessionId:n.id});case 13:a=e.sent,o=a.error,console.warn(o.message),r(!1);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,b.jsxs)("form",{onSubmit:p,children:[(0,b.jsx)(S,{className:"checkout-style",name:"customDonation",value:i.customDonation,min:10,max:5e3,step:5,currency:"usd",onChange:function(e){return l(N(N({},i),{},(0,a.Z)({},e.currentTarget.name,e.currentTarget.value)))}}),(0,b.jsx)(O,{}),(0,b.jsxs)("button",{className:"checkout-style-background",type:"submit",disabled:t,children:["Donate ",g(i.customDonation,"usd")]})]})},D=r(9008),E=r(1664),P=function(e){var t=e.children,r=e.title,n=void 0===r?"TypeScript Next.js Stripe Example":r;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(D.default,{children:[(0,b.jsx)("title",{children:n}),(0,b.jsx)("meta",{charSet:"utf-8"}),(0,b.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"}),(0,b.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,b.jsx)("meta",{name:"twitter:site",content:"@thorwebdev"}),(0,b.jsx)("meta",{name:"twitter:title",content:"TypeScript Next.js Stripe Example"}),(0,b.jsx)("meta",{name:"twitter:description",content:"Full-stack TypeScript example using Next.js, react-stripe-js, and stripe-node."}),(0,b.jsx)("meta",{name:"twitter:image",content:"https://nextjs-typescript-react-stripe-js.vercel.app/social_card.png"})]}),(0,b.jsxs)("div",{className:"container",children:[(0,b.jsx)("header",{children:(0,b.jsxs)("div",{className:"header-content",children:[(0,b.jsx)(E.default,{href:"/",children:(0,b.jsx)("a",{className:"logo",children:(0,b.jsx)("img",{src:"/logo.png"})})}),(0,b.jsxs)("h1",{children:[(0,b.jsx)("span",{className:"light",children:"Stripe Sample"}),(0,b.jsx)("br",{}),"Next.js, TypeScript, and Stripe \ud83d\udd12\ud83d\udcb8"]})]})}),t]}),(0,b.jsx)("div",{className:"banner",children:(0,b.jsxs)("span",{children:["This is a"," ",(0,b.jsx)("a",{href:"https://github.com/stripe-samples",target:"_blank",rel:"noopener noreferrer",children:"Stripe Sample"}),"."," View code on ",(0,b.jsx)("a",{href:"https://github.com/vercel/next.js/tree/canary/examples/with-stripe-typescript",target:"_blank",rel:"noopener noreferrer",children:"GitHub"}),"."]})})]})},T=function(){return(0,b.jsx)(P,{title:"Donate with Checkout | Next.js + TypeScript Example",children:(0,b.jsxs)("div",{className:"page-container",children:[(0,b.jsx)("h1",{children:"Donate with Checkout"}),(0,b.jsx)("p",{children:"Donate to our project \ud83d\udc96"}),(0,b.jsx)(_,{})]})})}},3457:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/donate-with-checkout",function(){return r(1247)}])}},function(e){e.O(0,[996,774,888,179],(function(){return t=3457,e(e.s=t);var t}));var t=e.O();_N_E=t}]);